<!DOCTYPE html>
<html>
<head>
    <title>Open Tab Blocker</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>

    <header>
        <div class="tabs">
            <div class="tab active" data-tab="manage">Buckets</div>
            <div class="tab" data-tab="add">+</div>
            <div class="tab" data-tab="settings">&#9881;</div>
        </div>

        <img src="icons/logo.png" alt="Open Tab Blocker">
    </header>

    <div id="manageView" class="tab-section">
        <div id="bucketList" class="bucket-list">
            <!-- Buckets will be inserted here dynamically -->
        </div>
    </div>

    <div id="settingsView" class="tab-section" style="display: none;">
        <div class="settings-section">
            <div class="setting-item">
                <div class="setting-info">
                    <h3>Friction Mode</h3>
                    <p class="setting-description">Require typing a challenge sentence before disabling a bucket, deleting a bucket, or turning off Friction Mode.</p>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" id="frictionModeToggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </div>

    <div id="frictionModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 class="modal-title">Friction Mode Active</h3>
            <p class="modal-instruction">Type the following sentence to continue:</p>
            <p class="friction-sentence" id="frictionSentence"></p>
            <input type="text" id="frictionInput" class="friction-input" placeholder="Type the sentence above..." autocomplete="off">
            <div class="modal-buttons">
                <button id="frictionCancel" class="secondary">Cancel</button>
                <button id="frictionConfirm" class="primary" disabled>Confirm</button>
            </div>
        </div>
    </div>

    <div id="addForm" class="tab-section form-section" style="display: none;">
        <div id="bucketForm">
            <h3 id="formTitle">Add New Bucket</h3>
            <div class="form-group">
                <label for="bucketName">Bucket Name:</label>
                <input type="text" id="bucketName" placeholder="e.g., Social Media, Gaming, etc.">
            </div>

            <div class="form-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="alwaysBlock">
                    Always Block
                </label>
            </div>

            <div id="timeSettings" class="form-group">
                <label>Blocking Periods:</label>
                <div class="time-period">
                    <div class="time-period-inputs">
                        <input type="time" id="startTime"> to
                        <input type="time" id="endTime">
                        <span class="time-control-icon add-time" title="Add second time period">+</span>
                    </div>
                    <div class="time-period-inputs second-period" style="display: none;">
                        <input type="time" id="startTime2"> to
                        <input type="time" id="endTime2">
                        <span class="time-control-icon remove-time" title="Remove second time period">&#128473;</span>
                    </div>
                </div>
                <div id="daysSelection">
                    <label><input type="checkbox" class="day-checkbox" value="0"> Sun</label>
                    <label><input type="checkbox" class="day-checkbox" value="1"> Mon</label>
                    <label><input type="checkbox" class="day-checkbox" value="2"> Tue</label>
                    <label><input type="checkbox" class="day-checkbox" value="3"> Wed</label>
                    <label><input type="checkbox" class="day-checkbox" value="4"> Thu</label>
                    <label><input type="checkbox" class="day-checkbox" value="5"> Fri</label>
                    <label><input type="checkbox" class="day-checkbox" value="6"> Sat</label>
                </div>
                <p class="helper-text">Leave all days unchecked to block every day</p>
            </div>

            <div class="button-group">
                <button id="saveBucket" class="primary">Create Bucket</button>
                <button id="cancelEdit" class="secondary" style="display: none;">Cancel</button>
            </div>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>
